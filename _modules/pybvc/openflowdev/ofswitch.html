<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pybvc.openflowdev.ofswitch &mdash; pybvc 1.0.4 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="pybvc 1.0.4 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">pybvc 1.0.4 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pybvc.openflowdev.ofswitch</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="c">#import collections</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>

<span class="kn">from</span> <span class="nn">pybvc.controller.openflownode</span> <span class="kn">import</span> <span class="n">OpenflowNode</span>
<span class="kn">from</span> <span class="nn">pybvc.common.status</span> <span class="kn">import</span> <span class="n">OperStatus</span><span class="p">,</span> <span class="n">STATUS</span>
<span class="kn">from</span> <span class="nn">pybvc.common.utils</span> <span class="kn">import</span> <span class="n">find_key_values_in_dict</span>
<span class="kn">from</span> <span class="nn">pybvc.common.utils</span> <span class="kn">import</span> <span class="n">replace_str_value_in_dict</span>
<span class="kn">from</span> <span class="nn">pybvc.common.utils</span> <span class="kn">import</span> <span class="n">find_key_value_in_dict</span>
<span class="kn">from</span> <span class="nn">pybvc.common.utils</span> <span class="kn">import</span> <span class="n">find_dict_in_list</span>
<span class="kn">from</span> <span class="nn">pybvc.common.utils</span> <span class="kn">import</span> <span class="n">remove_empty_from_dict</span>
<span class="c">#from pybvc.common.utils import remove_unset_values_from_nested_dict</span>
<span class="kn">from</span> <span class="nn">pybvc.common.utils</span> <span class="kn">import</span> <span class="n">stripNone</span>
    
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">OFSwitch</span><span class="p">(</span><span class="n">OpenflowNode</span><span class="p">):</span>
<div class="viewcode-block" id="OFSwitch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch">[docs]</a>    <span class="sd">&quot;&quot;&quot;Class that represents an instance of &#39;OpenFlow Switch&#39; (OpenFlow capable device).&quot;&quot;&quot;</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctrl</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dpid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initializes this object properties.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">OFSwitch</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">ctrl</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpid</span> <span class="o">=</span> <span class="n">dpid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ports</span><span class="o">=</span><span class="p">[]</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="OFSwitch.to_string"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.to_string">[docs]</a>        <span class="sd">&quot;&quot;&quot;Returns string representation of this object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.to_json"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.to_json">[docs]</a>        <span class="sd">&quot;&quot;&quot;Returns JSON representation of this object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="n">__dict__</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> 
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_switch_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        </div>
<div class="viewcode-block" id="OFSwitch.get_switch_info"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_switch_info">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="n">myname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_operational_url</span><span class="p">(</span><span class="n">myname</span><span class="p">)</span>
        
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="s">&#39;node&#39;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">p1</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">):</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:manufacturer&#39;</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;manufacturer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                
                <span class="n">p3</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:serial-number&#39;</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;serial-number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                
                <span class="n">p4</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:software&#39;</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p4</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;software&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                
                <span class="n">p5</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:hardware&#39;</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p5</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;hardware&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                
                <span class="n">p6</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:description&#39;</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p6</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_features_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        </div>
<div class="viewcode-block" id="OFSwitch.get_features_info"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_features_info">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="n">myname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_operational_url</span><span class="p">(</span><span class="n">myname</span><span class="p">)</span>
        
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:switch-features&#39;</span>
            <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">)):</span>
                <span class="n">p3</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:flow-feature-capability-&#39;</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">replace_str_value_in_dict</span><span class="p">(</span><span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p3</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_ports_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_ports_list"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_ports_list">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">plist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="n">myname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_operational_url</span><span class="p">(</span><span class="n">myname</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="s">&#39;node&#39;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">p1</span> <span class="ow">in</span> <span class="n">obj</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">p1</span><span class="p">],</span> <span class="nb">list</span><span class="p">)):</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="n">p1</span><span class="p">]</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="s">&#39;node-connector&#39;</span>
                <span class="n">d</span> <span class="o">=</span> <span class="n">find_dict_in_list</span><span class="p">(</span><span class="n">vlist</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">p2</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">items</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">p2</span><span class="p">]</span>
                    <span class="n">p3</span> <span class="o">=</span> <span class="s">&#39;flow-node-inventory:port-number&#39;</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
                        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">item</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">p3</span><span class="p">)):</span>
                            <span class="n">plist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="n">p3</span><span class="p">])</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">plist</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_port_brief_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">portnum</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_port_brief_info"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_port_brief_info">[docs]</a>        <span class="k">pass</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_ports_brief_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        </div>
<div class="viewcode-block" id="OFSwitch.get_ports_brief_info"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_ports_brief_info">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="n">myname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_operational_url</span><span class="p">(</span><span class="n">myname</span><span class="p">)</span>
        
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="s">&#39;node-connector&#39;</span>
            <span class="n">vlist</span> <span class="o">=</span> <span class="n">find_key_values_in_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">p1</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">)):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                        <span class="n">port</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">port</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]</span>
                        <span class="n">port</span><span class="p">[</span><span class="s">&#39;number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s">&#39;flow-node-inventory:port-number&#39;</span><span class="p">]</span>
                        <span class="n">port</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s">&#39;flow-node-inventory:name&#39;</span><span class="p">]</span>
                        <span class="n">port</span><span class="p">[</span><span class="s">&#39;MAC address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s">&#39;flow-node-inventory:hardware-address&#39;</span><span class="p">]</span>
                        <span class="n">s</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s">&#39;flow-node-inventory:current-feature&#39;</span><span class="p">]</span>
                        <span class="n">port</span><span class="p">[</span><span class="s">&#39;current feature&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
                        <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
                <span class="k">except</span> <span class="p">()</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">print</span> <span class="s">&quot;Error: &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">add_modify_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_entry</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.add_modify_flow"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.add_modify_flow">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">templateUrlExt</span> <span class="o">=</span> <span class="s">&quot;/table/{}/flow/{}&quot;</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/yang.data+json&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">flow_entry</span><span class="p">,</span> <span class="n">FlowEntry</span><span class="p">):</span>
            <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_config_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">urlext</span> <span class="o">=</span> <span class="n">templateUrlExt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">flow_entry</span><span class="o">.</span><span class="n">get_flow_table_id</span><span class="p">(),</span>
                                           <span class="n">flow_entry</span><span class="o">.</span><span class="n">get_flow_id</span><span class="p">())</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">urlext</span>
<span class="c">#            print url</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">flow_entry</span><span class="o">.</span><span class="n">get_payload</span><span class="p">()</span>
<span class="c">#            print payload </span>
            <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_put_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="c">#            print resp</span>
            <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
            <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;Error !!!&quot;</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">MALFORM_DATA</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_port_detail_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">portnum</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_port_detail_info"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_port_detail_info">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">templateUrlExt</span> <span class="o">=</span> <span class="s">&quot;/node-connector/{}:{}&quot;</span>
        <span class="n">urlext</span> <span class="o">=</span> <span class="n">templateUrlExt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">portnum</span><span class="p">)</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_operational_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">+=</span> <span class="n">urlext</span>
        
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;node-connector&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">)):</span>
                    <span class="n">info</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">()</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_flows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableid</span><span class="p">,</span> <span class="n">operational</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_flows"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_flows">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">flows</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">templateUrlExt</span> <span class="o">=</span> <span class="s">&quot;/flow-node-inventory:table/{}&quot;</span>
        <span class="n">urlext</span> <span class="o">=</span> <span class="n">templateUrlExt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tableid</span><span class="p">)</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">operational</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_operational_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_config_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>        
        <span class="n">url</span> <span class="o">+=</span> <span class="n">urlext</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vlist</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;flow-node-inventory:table&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vlist</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s">&#39;flow&#39;</span> <span class="ow">in</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
                    <span class="n">flows</span> <span class="o">=</span> <span class="n">vlist</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;flow&#39;</span><span class="p">]</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">()</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">DATA_NOT_FOUND</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">flows</span><span class="p">)</span>    
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_operational_flows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableid</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_operational_flows"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_operational_flows">[docs]</a>        <span class="n">flows</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_flows</span><span class="p">(</span><span class="n">tableid</span><span class="p">,</span> <span class="n">operational</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
            <span class="n">flows</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">flows</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_operational_flows_ovs_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableid</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_operational_flows_ovs_syntax"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_operational_flows_ovs_syntax">[docs]</a>        <span class="n">ovsflows</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operational_flows</span><span class="p">(</span><span class="n">tableid</span><span class="p">)</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
            <span class="n">flist</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sort</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
                <span class="n">flist</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__getPriorityKey</span><span class="p">)</span>                
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">flist</span><span class="p">:</span>
                <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">odl_to_ovs_flow_syntax</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="n">ovsflows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">ovsflows</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_configured_flows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableid</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_configured_flows"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_configured_flows">[docs]</a>        <span class="n">flows</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_flows</span><span class="p">(</span><span class="n">tableid</span><span class="p">,</span> <span class="n">operational</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
            <span class="n">flows</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">flows</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_configured_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_id</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_configured_flow"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_configured_flow">[docs]</a>        <span class="n">status</span> <span class="o">=</span> <span class="n">OperStatus</span><span class="p">()</span>
        <span class="n">flow</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">templateUrlExt</span> <span class="o">=</span> <span class="s">&quot;/table/{}/flow/{}&quot;</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_node_config_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">urlext</span> <span class="o">=</span> <span class="n">templateUrlExt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table_id</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">+=</span> <span class="n">urlext</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">http_get_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">resp</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CONN_ERROR</span><span class="p">)</span>
        <span class="k">elif</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">CTRL_INTERNAL_ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
<span class="c">#            print resp.content</span>
            <span class="n">flow</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">HTTP_ERROR</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">flow</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_configured_flows_ovs_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableid</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.get_configured_flows_ovs_syntax"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.get_configured_flows_ovs_syntax">[docs]</a>        <span class="n">ovsflows</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_configured_flows</span><span class="p">(</span><span class="n">tableid</span><span class="p">)</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">STATUS</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
            <span class="n">flist</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sort</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
                <span class="n">flist</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__getPriorityKey</span><span class="p">)</span>                
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">flist</span><span class="p">:</span>
                <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">odl_to_ovs_flow_syntax</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="n">ovsflows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">ovsflows</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">odl_to_ovs_flow_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">odlflow</span><span class="p">):</span></div>
<div class="viewcode-block" id="OFSwitch.odl_to_ovs_flow_syntax"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OFSwitch.odl_to_ovs_flow_syntax">[docs]</a>        <span class="n">od</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
<span class="c">#        print (&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;)</span>
<span class="c">#        print (odlflow)</span>
        
        <span class="n">f</span> <span class="o">=</span> <span class="n">odlflow</span>
        
        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;cookie&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;cookie&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;duration&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="s">&#39;second&#39;</span> <span class="ow">in</span> <span class="n">v</span> <span class="ow">and</span> <span class="s">&#39;nanosecond&#39;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="s">&#39;second&#39;</span><span class="p">]</span>
                <span class="n">ns</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="s">&#39;nanosecond&#39;</span><span class="p">]</span>
                <span class="n">duration</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="mi">1000000000</span> <span class="o">+</span> <span class="n">ns</span><span class="p">)</span><span class="o">/</span><span class="mi">1000000000</span>
                <span class="n">od</span><span class="p">[</span><span class="s">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;{}s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        
        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;table_id&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;table&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        
        <span class="c"># Flow Statistics</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;packet-count&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;n_packets&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;byte-count&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;n_bytes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;idle-timeout&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span> <span class="ow">and</span> <span class="n">v</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;idle_timeout&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;hard-timeout&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span> <span class="ow">and</span> <span class="n">v</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;hard_timeout&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        
        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;priority&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;priority&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            
        <span class="c"># Flow Match</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;match&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>            
            <span class="n">p</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;in-port&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)):</span>
                <span class="n">od</span><span class="p">[</span><span class="s">&#39;in_port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            
            <span class="n">vlanmatch</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;vlan-match&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">vlanmatch</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">vlanmatch</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="s">&#39;vlan-id&#39;</span> <span class="ow">in</span> <span class="n">vlanmatch</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">vlanmatch</span><span class="p">[</span><span class="s">&#39;vlan-id&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="s">&#39;vlan-id&#39;</span> <span class="ow">in</span> <span class="n">vlanmatch</span><span class="p">[</span><span class="s">&#39;vlan-id&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">vlanmatch</span><span class="p">[</span><span class="s">&#39;vlan-id&#39;</span><span class="p">][</span><span class="s">&#39;vlan-id&#39;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="n">od</span><span class="p">[</span><span class="s">&#39;dl_vlan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlanmatch</span><span class="p">[</span><span class="s">&#39;vlan-id&#39;</span><span class="p">][</span><span class="s">&#39;vlan-id&#39;</span><span class="p">]</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="s">&#39;vlan-pcp&#39;</span> <span class="ow">in</span> <span class="n">vlanmatch</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">vlanmatch</span><span class="p">[</span><span class="s">&#39;vlan-pcp&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">)):</span>
                    <span class="n">od</span><span class="p">[</span><span class="s">&#39;dl_vlan_pcp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlanmatch</span><span class="p">[</span><span class="s">&#39;vlan-pcp&#39;</span><span class="p">]</span>
            
            <span class="n">ethermatch</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;ethernet-match&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ethermatch</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">ethertype</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">ethermatch</span><span class="p">,</span> <span class="s">&#39;type&#39;</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">ethertype</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">ethertype</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
                    <span class="n">od</span><span class="p">[</span><span class="s">&#39;dl_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="n">ethertype</span><span class="p">)</span>
                
                <span class="n">ethersrc</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">ethermatch</span><span class="p">,</span> <span class="s">&#39;ethernet-source&#39;</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">ethersrc</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">ethersrc</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">addr</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">ethersrc</span><span class="p">,</span> <span class="s">&#39;address&#39;</span><span class="p">)</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">addr</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)):</span>
                        <span class="n">od</span><span class="p">[</span><span class="s">&#39;dl_src&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">addr</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                
                <span class="n">etherdst</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">ethermatch</span><span class="p">,</span> <span class="s">&#39;ethernet-destination&#39;</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">etherdst</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">etherdst</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">addr</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">etherdst</span><span class="p">,</span> <span class="s">&#39;address&#39;</span><span class="p">)</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">addr</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)):</span>
                        <span class="n">od</span><span class="p">[</span><span class="s">&#39;dl_dst&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">addr</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            
            <span class="n">ipmatch</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;ip-match&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ipmatch</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">ipmatch</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">if</span><span class="p">(</span><span class="s">&#39;ip-protocol&#39;</span> <span class="ow">in</span> <span class="n">ipmatch</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">ipmatch</span><span class="p">[</span><span class="s">&#39;ip-protocol&#39;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>                    
                    <span class="n">od</span><span class="p">[</span><span class="s">&#39;nw_proto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ipmatch</span><span class="p">[</span><span class="s">&#39;ip-protocol&#39;</span><span class="p">]</span>
            
            <span class="n">tcpsrcport</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;tcp-source-port&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">tcpsrcport</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">tcpsrcport</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">od</span><span class="p">[</span><span class="s">&#39;tp_src&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tcpsrcport</span>
            
            <span class="n">ipv4src</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;ipv4-source&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ipv4src</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ipv4src</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)):</span>
                <span class="n">od</span><span class="p">[</span><span class="s">&#39;nw_src&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ipv4src</span>
            
            <span class="n">ipv4dst</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;ipv4-destination&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ipv4dst</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ipv4dst</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)):</span>
                <span class="n">od</span><span class="p">[</span><span class="s">&#39;nw_dst&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ipv4dst</span>
        
        <span class="c"># Flow Actions</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;instructions&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;instruction&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;apply-actions&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s">&#39;action&#39;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">):</span>
                            <span class="n">astr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                            <span class="n">al</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__build_ovs_action_list</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                            <span class="k">if</span><span class="p">(</span><span class="n">al</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
                                <span class="n">al</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__getOrderKey</span><span class="p">)</span>
                                <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="p">)</span>
                                <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
                                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">al</span><span class="p">:</span>
                                    <span class="n">astr</span> <span class="o">+=</span> <span class="n">a</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>
                                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                                    <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">l</span><span class="p">):</span>
                                        <span class="n">astr</span> <span class="o">+=</span> <span class="s">&quot;,&quot;</span>

                            <span class="n">od</span><span class="p">[</span><span class="s">&#39;actions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">astr</span><span class="p">)</span>
        <span class="c"># Following &#39;else&#39; case is a hack, ODL flows do not seem to contain</span>
        <span class="c"># the &#39;instructions&#39; info for flows that were set with &#39;drop&#39; action</span>
        <span class="c"># TBD: Perhaps this hack should be removed!!!</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">od</span><span class="p">[</span><span class="s">&#39;actions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;drop&#39;</span>
                                    
<span class="c">#        print json.dumps(od, indent=4)</span>
<span class="c">#        print (&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;)</span>

        <span class="k">return</span> <span class="n">od</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__build_ovs_action_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alist</span><span class="p">):</span></div>
        <span class="n">al</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">alist</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="s">&#39;output-action&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="p">):</span>
                <span class="n">a</span> <span class="o">=</span> <span class="n">ActionOutput</span><span class="p">()</span>
                <span class="n">a</span><span class="o">.</span><span class="n">update_from_list</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="n">al</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">al</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__getOrderKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">order</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__getPriorityKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">item</span><span class="p">[</span><span class="s">&#39;priority&#39;</span><span class="p">]</span>

<span class="c">#---------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#---------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">ActionOutput</span><span class="p">():</span></div>
<div class="viewcode-block" id="ActionOutput"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ActionOutput">[docs]</a>    <span class="sd">&#39;&#39;&#39; OpenFlow &#39;Output&#39; action type &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">&#39;output&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;port&#39;</span><span class="p">:</span> <span class="n">port</span><span class="p">,</span> <span class="s">&#39;max-len&#39;</span><span class="p">:</span> <span class="n">length</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<div class="viewcode-block" id="ActionOutput.update"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ActionOutput.update">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;port&#39;</span><span class="p">:</span> <span class="n">port</span><span class="p">,</span> <span class="s">&#39;max-len&#39;</span><span class="p">:</span> <span class="n">length</span><span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">port</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">[</span><span class="s">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>
        <span class="k">if</span><span class="p">(</span><span class="n">length</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">[</span><span class="s">&#39;max-len&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">length</span>
        <span class="k">if</span><span class="p">(</span><span class="n">order</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">update_from_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span></div>
<div class="viewcode-block" id="ActionOutput.update_from_list"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ActionOutput.update_from_list">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="n">data</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span> <span class="ow">and</span> <span class="p">(</span><span class="s">&#39;output-action&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">&#39;output&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">&#39;order&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;port&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;max-len&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">[</span><span class="s">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">&#39;output-node-connector&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">[</span><span class="s">&#39;max-len&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">find_key_value_in_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">&#39;max-length&#39;</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="ActionOutput.to_string"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ActionOutput.to_string">[docs]</a>        <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">[</span><span class="s">&#39;port&#39;</span><span class="p">]</span>
        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">[</span><span class="s">&#39;max-len&#39;</span><span class="p">]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">l</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="s">&#39;CONTROLLER&#39;</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="s">&#39;{}:{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="s">&#39;{}:{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">s</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">FlowEntry</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="FlowEntry"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry">[docs]</a>    <span class="sd">&#39;&#39;&#39; Class for creating and interacting with OpenFlow flows &#39;&#39;&#39;</span>
    <span class="n">_mn</span> <span class="o">=</span> <span class="s">&quot;flow-node-inventory:flow&quot;</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Flow identifier in ODL inventory &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Opaque Controller-issued identifier &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Mask used to restrict the cookie bits that must match when the command is</span>
<span class="sd">            OFPFC_MODIFY* or OFPFC_DELETE*. A value of 0 indicates no restriction &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="bp">None</span>  
        
        <span class="sd">&#39;&#39;&#39; ID of the table to put the flow in &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_id</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="sd">&#39;&#39;&#39; Priority level of flow entry &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Idle time before discarding (seconds) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="sd">&#39;&#39;&#39; Max time before discarding (seconds) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">0</span> 
        
        <span class="sd">&#39;&#39;&#39; Modify/Delete entry strictly matching wildcards and priority &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strict</span> <span class="o">=</span> <span class="bp">False</span>
        
        <span class="sd">&#39;&#39;&#39; For OFPFC_DELETE* commands, require matching entries to include this as an</span>
<span class="sd">            output port. A value of OFPP_ANY indicates no restriction. &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; For OFPFC_DELETE* commands, require matching entries to include this as an</span>
<span class="sd">            output group. A value of OFPG_ANY indicates no restriction &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_group</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Bitmap of OFPFF_* flags &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; This FlowEntry name in the FlowTable (internal Controller&#39;s inventory attribute) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_name</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; This FlowEntry identifier in the FlowTable (internal Controller&#39;s inventory attribute) &#39;&#39;&#39;</span>    
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; ??? (internal Controller&#39;s inventory attribute) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">installHw</span> <span class="o">=</span> <span class="bp">False</span>
        
        <span class="sd">&#39;&#39;&#39; Boolean flag used to enforce OpenFlow switch to do ordered message processing.</span>
<span class="sd">            Barrier request/reply messages are used by the controller to ensure message dependencies</span>
<span class="sd">            have been met or to receive notifications for completed operations. When the controller</span>
<span class="sd">            wants to ensure message dependencies have been met or wants to receive notifications for</span>
<span class="sd">            completed operations, it may use an OFPT_BARRIER_REQUEST message. This message has no body.</span>
<span class="sd">            Upon receipt, the switch must finish processing all previously-received messages, including</span>
<span class="sd">            sending corresponding reply or error messages, before executing any messages beyond the</span>
<span class="sd">            Barrier Request. &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">barrier</span><span class="o">=</span><span class="bp">False</span>
        
        <span class="sd">&#39;&#39;&#39; Buffered packet to apply to, or OFP_NO_BUFFER. Not meaningful for OFPFC_DELETE* &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buffer_id</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39;  Flow match fields &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Instructions to be executed when a flow matches this entry flow match fields &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instructions</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="FlowEntry.to_json"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.to_json">[docs]</a>        <span class="sd">&quot;&quot;&quot; Return FlowEntry as JSON &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="n">__dict__</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_payload</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.get_payload"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.get_payload">[docs]</a>        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>        
        <span class="n">s</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&#39;_&#39;</span><span class="p">,</span> <span class="s">&#39;-&#39;</span><span class="p">)</span>
        <span class="c"># Following are exceptions from the common ODL rules for having all</span>
        <span class="c"># multi-part keywords in YANG modules being hash separated</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&#39;table-id&#39;</span><span class="p">,</span> <span class="s">&#39;table_id&#39;</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&#39;cookie-mask&#39;</span><span class="p">,</span> <span class="s">&#39;cookie_mask&#39;</span><span class="p">)</span>
        <span class="n">d1</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">d2</span> <span class="o">=</span> <span class="n">stripNone</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_mn</span> <span class="p">:</span> <span class="n">d2</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="n">__dict__</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_table_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_table_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_table_id">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">table_id</span> <span class="o">=</span> <span class="n">table_id</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_flow_table_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.get_flow_table_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.get_flow_table_id">[docs]</a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_id</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_name</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_name"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_name">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">flow_name</span> <span class="o">=</span> <span class="n">flow_name</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_id">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">flow_id</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">get_flow_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.get_flow_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.get_flow_id">[docs]</a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_priority</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_priority</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_priority"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_priority">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="n">flow_priority</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_hard_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hard_timeout</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_hard_timeout"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_hard_timeout">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="n">hard_timeout</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_idle_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idle_timeout</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_idle_timeout"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_idle_timeout">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="n">idle_timeout</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_cookie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_cookie"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_cookie">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="n">cookie</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flow_cookie_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie_mask</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.set_flow_cookie_mask"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.set_flow_cookie_mask">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="n">cookie_mask</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">add_instruction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instruction</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.add_instruction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.add_instruction">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instructions</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instructions</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instructions</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;instruction&#39;</span><span class="p">:</span><span class="n">instruction</span><span class="p">})</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">add_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">):</span></div>
<div class="viewcode-block" id="FlowEntry.add_match"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FlowEntry.add_match">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">__dict__</span><span class="p">)</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Instructions</span><span class="p">():</span></div></div>
<div class="viewcode-block" id="Instructions"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Instructions">[docs]</a>    <span class="sd">&#39;&#39;&#39; &#39;Class representing OpenFlow flow instructions set &#39;&#39;&#39;</span> 
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instructions</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">add_instruction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instruction</span><span class="p">):</span>
<div class="viewcode-block" id="Instructions.add_instruction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Instructions.add_instruction">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">instructions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Instruction</span><span class="p">():</span></div></div>
<div class="viewcode-block" id="Instruction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Instruction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Class representing an OpenFlow flow instruction &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instruction_order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">instruction_order</span>
<span class="c">#  TBD      self.goto_table = {}</span>
<span class="c">#  TBD      self.write_metadata = {}</span>
<span class="c">#  TBD      self.write_actions = {}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_actions</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;action&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="c">#  TBD      self.clear_actions = {}</span>
<span class="c">#  TBD      self.meter = {}</span>
    
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    #---------------------------------------------------------------------------</span>
<span class="sd">    # </span>
<span class="sd">    #---------------------------------------------------------------------------</span>
<span class="sd">    def add_action(self, action):</span>
<span class="sd">        self.actions.append(action)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">add_apply_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
<div class="viewcode-block" id="Instruction.add_apply_action"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Instruction.add_apply_action">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">apply_actions</span><span class="p">[</span><span class="s">&#39;action&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Action</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="Action"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Action">[docs]</a>    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
<div class="viewcode-block" id="Action.set_order"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Action.set_order">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">OutputAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="OutputAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OutputAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; The Output action forwards a packet to a specified OpenFlow port</span>
<span class="sd">        OpenFlow switches must support forwarding to physical ports, </span>
<span class="sd">        switch-defined logical ports and the required reserved ports  &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">OutputAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">action_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;output-node-connector&#39;</span> <span class="p">:</span> <span class="n">port</span><span class="p">,</span> <span class="s">&#39;max-length&#39;</span> <span class="p">:</span> <span class="n">max_len</span> <span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_outport</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
<div class="viewcode-block" id="OutputAction.set_outport"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OutputAction.set_outport">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span><span class="p">[</span><span class="s">&#39;output-node-connector&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_max_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_len</span><span class="p">):</span></div>
<div class="viewcode-block" id="OutputAction.set_max_len"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OutputAction.set_max_len">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span><span class="p">[</span><span class="s">&#39;max-length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_len</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span></div>
<div class="viewcode-block" id="OutputAction.set_order"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.OutputAction.set_order">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetQueueAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetQueueAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetQueueAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; The set-queue action sets the queue id for a packet. When the packet is</span>
<span class="sd">        forwarded to a port using the output action, the queue id determines </span>
<span class="sd">        which queue attached to this port is used for scheduling and forwarding</span>
<span class="sd">        the packet. Forwarding behavior is dictated by the configuration of the</span>
<span class="sd">        queue and is used to provide basic Quality-of-Service (QoS) support &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">queue</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">queue_id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetQueueAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_queue_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;queue&#39;</span><span class="p">:</span> <span class="n">queue</span><span class="p">,</span> <span class="s">&#39;queue-id&#39;</span><span class="p">:</span> <span class="n">queue_id</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queue</span><span class="p">):</span>
<div class="viewcode-block" id="SetQueueAction.set_queue"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetQueueAction.set_queue">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">group_action</span><span class="p">[</span><span class="s">&#39;queue&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">queue</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_group_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queue_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetQueueAction.set_group_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetQueueAction.set_group_id">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">group_action</span><span class="p">[</span><span class="s">&#39;queue_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">queue_id</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetQueueAction.set_order"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetQueueAction.set_order">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">DropAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="DropAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.DropAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; There is no explicit action to represent drops. Instead, packets whose</span>
<span class="sd">        action sets have no output actions should be dropped. This result could</span>
<span class="sd">        come from empty instruction sets or empty action buckets in the</span>
<span class="sd">        processing pipeline, or after executing a Clear-Actions instruction &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_order</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DropAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">action_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drop_action</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
<div class="viewcode-block" id="DropAction.set_order"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.DropAction.set_order">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">GroupAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="GroupAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.GroupAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Process the packet through the specified group.</span>
<span class="sd">        The exact interpretation depends on group type. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">group_id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">GroupAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;group&#39;</span><span class="p">:</span> <span class="n">group</span><span class="p">,</span> <span class="s">&#39;group-id&#39;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">):</span>
<div class="viewcode-block" id="GroupAction.set_group"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.GroupAction.set_group">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">group_action</span><span class="p">[</span><span class="s">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">group</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_group_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="GroupAction.set_group_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.GroupAction.set_group_id">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">group_action</span><span class="p">[</span><span class="s">&#39;group_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">group_id</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetVlanIdAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetVlanIdAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetVlanIdAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set the 802.1q VLAN id &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetVlanIdAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_vlan_id_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vlan-id&#39;</span> <span class="p">:</span> <span class="n">vid</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vid</span><span class="p">):</span>
<div class="viewcode-block" id="SetVlanIdAction.set_vid"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetVlanIdAction.set_vid">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_vlan_id_action</span><span class="p">[</span><span class="s">&#39;vlan-id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vid</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetVlanPCPAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetVlanPCPAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetVlanPCPAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set the 802.1q priority &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vlan_pcp</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetVlanPCPAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_vlan_pcp_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vlan-pcp&#39;</span> <span class="p">:</span> <span class="n">vlan_pcp</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vlan_pcp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vlan_pcp</span><span class="p">):</span>
<div class="viewcode-block" id="SetVlanPCPAction.set_vlan_pcp"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetVlanPCPAction.set_vlan_pcp">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_vlan_pcp_action</span><span class="p">[</span><span class="s">&#39;vlan-pcp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlan_pcp</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetVlanCfiAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetVlanCfiAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetVlanCfiAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Seems to be ODL proprietary action type ???</span>
<span class="sd">        CFI (1-bit field) was formerly designated Canonical Format Indicator</span>
<span class="sd">        with a value of 0 indicating a MAC address in canonical format. It is</span>
<span class="sd">        always set to zero for Ethernet. CFI was used for compatibility between</span>
<span class="sd">        Ethernet and Token Ring networks. If a frame received at an Ethernet</span>
<span class="sd">        port had a CFI set to 1, then that frame would not be bridged to an</span>
<span class="sd">        untagged port.</span>
<span class="sd">        Currently renamed as Drop eligible indicator (DEI).        </span>
<span class="sd">        May be used separately or in conjunction with PCP to indicate</span>
<span class="sd">        frames eligible to be dropped in the presence of congestion. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vlan_cfi</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetVlanCfiAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_vlan_cfi_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vlan-cfi&#39;</span> <span class="p">:</span> <span class="n">vlan_cfi</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vlan_cfi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vlan_cfi</span><span class="p">):</span>
<div class="viewcode-block" id="SetVlanCfiAction.set_vlan_cfi"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetVlanCfiAction.set_vlan_cfi">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_vlan_cfi_action</span><span class="p">[</span><span class="s">&#39;vlan-cfi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vlan_cfi</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">StripVlanAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="StripVlanAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.StripVlanAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Strip the 802.1q header &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">StripVlanAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strip_vlan_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetDlSrcAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetDlSrcAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetDlSrcAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set Ethernet source address &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">mac_addr</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetDlSrcAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dl_src_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;address&#39;</span> <span class="p">:</span> <span class="n">mac_addr</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_dl_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mac_addr</span><span class="p">):</span>
<div class="viewcode-block" id="SetDlSrcAction.set_dl_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetDlSrcAction.set_dl_src">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_dl_src_action</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mac_addr</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetDlDstAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetDlDstAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetDlDstAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set Ethernet destination address &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">mac_addr</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetDlDstAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dl_dst_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;address&#39;</span> <span class="p">:</span> <span class="n">mac_addr</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_dl_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mac_addr</span><span class="p">):</span>
<div class="viewcode-block" id="SetDlDstAction.set_dl_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetDlDstAction.set_dl_dst">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_dl_dst_action</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mac_addr</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetNwSrcAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetNwSrcAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetNwSrcAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set IP source address &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ip_addr</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetNwSrcAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_nw_src_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;address&#39;</span> <span class="p">:</span> <span class="n">ip_addr</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_nw_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_addr</span><span class="p">):</span>
<div class="viewcode-block" id="SetNwSrcAction.set_nw_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetNwSrcAction.set_nw_src">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_nw_src_action</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_addr</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetNwDstAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetNwDstAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetNwDstAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set IP destination address &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ip_addr</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetNwDstAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_nw_dst_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;address&#39;</span> <span class="p">:</span> <span class="n">ip_addr</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_nw_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_addr</span><span class="p">):</span>
<div class="viewcode-block" id="SetNwDstAction.set_nw_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetNwDstAction.set_nw_dst">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_nw_dst_action</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_addr</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetTpSrcAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetTpSrcAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetTpSrcAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set TCP/UDP source port &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetTpSrcAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_tp_src_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;port&#39;</span> <span class="p">:</span> <span class="n">port</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_tp_src_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
<div class="viewcode-block" id="SetTpSrcAction.set_tp_src_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetTpSrcAction.set_tp_src_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_tp_src_action</span><span class="p">[</span><span class="s">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetTpDstAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="SetTpDstAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetTpDstAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Set TCP/UDP destination port &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetTpDstAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_tp_dst_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;port&#39;</span> <span class="p">:</span> <span class="n">port</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_tp_dst_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
<div class="viewcode-block" id="SetTpDstAction.set_tp_dst_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetTpDstAction.set_tp_dst_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_tp_dst_action</span><span class="p">[</span><span class="s">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">PushVlanHeaderAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="PushVlanHeaderAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Push a new VLAN header onto the packet. The &#39;ethernet-type&#39; is used as</span>
<span class="sd">        the Ethertype for the tag. Only &#39;ethernet-type&#39; 0x8100 and 0x88a8 should</span>
<span class="sd">        be used. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">eth_type</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">pcp</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cfi</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vid</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PushVlanHeaderAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">action_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_vlan_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">:</span> <span class="n">eth_type</span><span class="p">,</span> <span class="s">&#39;tag&#39;</span><span class="p">:</span> <span class="n">tag</span><span class="p">,</span> <span class="s">&#39;pcp&#39;</span><span class="p">:</span> <span class="n">pcp</span><span class="p">,</span> <span class="s">&#39;cfi&#39;</span><span class="p">:</span> <span class="n">cfi</span><span class="p">,</span> <span class="s">&#39;vlan-id&#39;</span><span class="p">:</span> <span class="n">vid</span> <span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eth_type</span><span class="p">):</span>
<div class="viewcode-block" id="PushVlanHeaderAction.set_eth_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction.set_eth_type">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">push_vlan_action</span><span class="p">[</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eth_type</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span></div>
<div class="viewcode-block" id="PushVlanHeaderAction.set_tag"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction.set_tag">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span><span class="p">[</span><span class="s">&#39;tag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tag</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_pcp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pcp</span><span class="p">):</span></div>
<div class="viewcode-block" id="PushVlanHeaderAction.set_pcp"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction.set_pcp">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span><span class="p">[</span><span class="s">&#39;pcp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pcp</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_cfi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfi</span><span class="p">):</span></div>
<div class="viewcode-block" id="PushVlanHeaderAction.set_cfi"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction.set_cfi">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span><span class="p">[</span><span class="s">&#39;cfi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cfi</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vid</span><span class="p">):</span></div>
<div class="viewcode-block" id="PushVlanHeaderAction.set_vid"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction.set_vid">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_action</span><span class="p">[</span><span class="s">&#39;vlan-id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vid</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span></div>
<div class="viewcode-block" id="PushVlanHeaderAction.set_order"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushVlanHeaderAction.set_order">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">PopVlanHeaderAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="PopVlanHeaderAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PopVlanHeaderAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Pop the outer-most VLAN header from the packet &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PopVlanHeaderAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop_vlan_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">PushMplsHeaderAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="PushMplsHeaderAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushMplsHeaderAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Push a new MPLS shim header onto the packet. The &#39;ethernet-type&#39; is used</span>
<span class="sd">        as the Ethertype for the tag. Only Ethertype 0x8847 and 0x8848 should be</span>
<span class="sd">        used. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ethernet_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PushMplsHeaderAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">action_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_mpls_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">:</span> <span class="n">ethernet_type</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eth_type</span><span class="p">):</span>
<div class="viewcode-block" id="PushMplsHeaderAction.set_eth_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushMplsHeaderAction.set_eth_type">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">push_mpls_action</span><span class="p">[</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eth_type</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">PopMplsHeaderAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="PopMplsHeaderAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PopMplsHeaderAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Pop the outer-most MPLS tag or shim header from the packet.</span>
<span class="sd">        The &#39;ethernet-type&#39; is used as the Ethertype for the resulting packet</span>
<span class="sd">        (Ethertype for the MPLS payload). &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ethernet_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PopMplsHeaderAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">action_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop_mpls_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">:</span> <span class="n">ethernet_type</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eth_type</span><span class="p">):</span>
<div class="viewcode-block" id="PopMplsHeaderAction.set_eth_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PopMplsHeaderAction.set_eth_type">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">pop_mpls_action</span><span class="p">[</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eth_type</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">PushPBBHeaderAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="PushPBBHeaderAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushPBBHeaderAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Push a new PBB service instance header (I-TAG TCI) onto the packet.</span>
<span class="sd">        The Ethertype is used as the Ethertype for the tag. Only Ethertype</span>
<span class="sd">        0x88E7 should be used </span>
<span class="sd">        PBB - Provider Backbone Bridges is an Ethernet data-plane technology</span>
<span class="sd">              (also known as MAC-in-MAC) that involves encapsulating an</span>
<span class="sd">              Ethernet datagram inside another one with new source and</span>
<span class="sd">              destination addresses &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ethernet_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PushPBBHeaderAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_pbb_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">:</span> <span class="n">ethernet_type</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ethernet_type</span><span class="p">):</span>
<div class="viewcode-block" id="PushPBBHeaderAction.set_eth_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PushPBBHeaderAction.set_eth_type">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">push_pbb_action</span><span class="p">[</span><span class="s">&#39;ethernet-type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ethernet_type</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">PopPBBHeaderAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="PopPBBHeaderAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.PopPBBHeaderAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Pop the outer-most PBB service instance header (I-TAG TCI)</span>
<span class="sd">        from the packet</span>
<span class="sd">        PBB - Provider Backbone Bridges is an Ethernet data-plane technology</span>
<span class="sd">              (also known as MAC-in-MAC) that involves encapsulating an</span>
<span class="sd">              Ethernet datagram inside another one with new source and</span>
<span class="sd">              destination addresses &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PopPBBHeaderAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop_pbb_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetMplsTTLAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetMplsTTLAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetMplsTTLAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Replace the existing MPLS TTL. Only applies to packets with an existing</span>
<span class="sd">        MPLS shim header &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">mpls_ttl</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetMplsTTLAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_mpls_ttl_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;mpls-ttl&#39;</span><span class="p">:</span> <span class="n">mpls_ttl</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_ttl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_ttl</span><span class="p">):</span>
<div class="viewcode-block" id="SetMplsTTLAction.set_mpls_ttl"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetMplsTTLAction.set_mpls_ttl">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_mpls_ttl_action</span><span class="p">[</span><span class="s">&#39;mpls-ttl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mpls_ttl</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">DecMplsTTLAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="DecMplsTTLAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.DecMplsTTLAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Decrement the MPLS TTL. Only applies to packets with an existing MPLS</span>
<span class="sd">        shim header &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DecMplsTTLAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dec_mpls_ttl</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetNwTTLAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetNwTTLAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetNwTTLAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Replace the existing IPv4 TTL or IPv6 Hop Limit and update the IP</span>
<span class="sd">        checksum. Only applies to IPv4 and IPv6 packets. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ip_ttl</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetNwTTLAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_nw_ttl_action</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;nw-ttl&#39;</span><span class="p">:</span> <span class="n">ip_ttl</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ip_ttl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_ttl</span><span class="p">):</span>
<div class="viewcode-block" id="SetNwTTLAction.set_ip_ttl"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetNwTTLAction.set_ip_ttl">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_nw_ttl_action</span><span class="p">[</span><span class="s">&#39;nw-ttl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_ttl</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">DecNwTTLAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="DecNwTTLAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.DecNwTTLAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Decrement the IPv4 TTL or IPv6 Hop Limit field and update the IP</span>
<span class="sd">        checksum. Only applies to IPv4 and IPv6 packets. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DecNwTTLAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dec_nw_ttl</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">CopyTTLOutwardsAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="CopyTTLOutwardsAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.CopyTTLOutwardsAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Copy the TTL from next-to-outermost to outermost header with TTL.</span>
<span class="sd">        Copy can be IP-to-IP, MPLS-to-MPLS, or IP-to-MPLS. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CopyTTLOutwardsAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy_ttl_out</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">CopyTTLInwardsAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="CopyTTLInwardsAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.CopyTTLInwardsAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Copy the TTL from outermost to next-to-outermost header with TTL.</span>
<span class="sd">        Copy can be IP-to-IP, MPLS-to-MPLS, or MPLS-to-IP. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CopyTTLInwardsAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy_ttl_in</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SetFieldAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetFieldAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetFieldAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; The Extensible set_field action reuses the OXM encoding defined for</span>
<span class="sd">        matches, and enables to rewrite any header field in a single action.</span>
<span class="sd">        This allows any new match field, including experimenter fields, to be</span>
<span class="sd">        available for rewrite.</span>
<span class="sd">        The various Set-Field actions are identified by their field type and</span>
<span class="sd">        modify the values of respective header fields in the packet. While </span>
<span class="sd">        not strictly required, the support of rewriting various header fields</span>
<span class="sd">        using Set-Field actions greatly increase the usefulness of an OpenFlow</span>
<span class="sd">        implementation. To aid integration with existing networks, we suggest</span>
<span class="sd">        that VLAN modification actions be supported. Set-Field actions should</span>
<span class="sd">        always be applied to the outermost-possible header (e.g. a &#39;Set VLAN ID&#39;</span>
<span class="sd">        action always sets the ID of the outermost VLAN tag), unless the field</span>
<span class="sd">        type specifies otherwise. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SetFieldAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">action_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_field</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vlan-match&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;protocol-match-fields&#39;</span> <span class="p">:</span><span class="bp">None</span><span class="p">}</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vlan_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vid</span><span class="p">):</span>
<div class="viewcode-block" id="SetFieldAction.set_vlan_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetFieldAction.set_vlan_id">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_field</span><span class="p">[</span><span class="s">&#39;vlan-match&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_field</span><span class="p">[</span><span class="s">&#39;vlan-match&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">VlanMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_field</span><span class="p">[</span><span class="s">&#39;vlan-match&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_vid</span><span class="p">(</span><span class="n">vid</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_label</span><span class="p">):</span></div>
<div class="viewcode-block" id="SetFieldAction.set_mpls_label"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SetFieldAction.set_mpls_label">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_field</span><span class="p">[</span><span class="s">&#39;protocol-match-fields&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_field</span><span class="p">[</span><span class="s">&#39;protocol-match-fields&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ProtocolMatchFields</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_field</span><span class="p">[</span><span class="s">&#39;protocol-match-fields&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_mpls_lable</span><span class="p">(</span><span class="n">mpls_label</span><span class="p">)</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">FloodAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="FloodAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FloodAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Flood the packet along the minimum spanning tree, not including the</span>
<span class="sd">        incoming interface.</span>
<span class="sd">        The sentence &#39;along the minimum spanning tree&#39; implies: flood the packet</span>
<span class="sd">        on all the ports that are not disabled by Spanning Tree Protocol. &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FloodAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flood_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">FloodAllAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="FloodAllAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.FloodAllAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Send the packet out all interfaces, not including the incoming</span>
<span class="sd">        interface &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FloodAllAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flood_all_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">HwPathAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="HwPathAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.HwPathAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Seems to be ODL proprietary action type ??? &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">HwPathAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hw_path_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">SwPathAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="SwPathAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.SwPathAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Seems to be ODL proprietary action type ??? &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SwPathAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sw_path_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">LoopbackAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span></div>
<div class="viewcode-block" id="LoopbackAction"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.LoopbackAction">[docs]</a>    <span class="sd">&#39;&#39;&#39; Seems to be ODL proprietary action type ???&#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LoopbackAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loopback_action</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Match</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match">[docs]</a>    <span class="sd">&quot;&quot;&quot;Class that represents OpenFlow flow matching attributes &quot;&quot;&quot;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Ingress port. Numerical representation of in-coming port, starting at 1</span>
<span class="sd">            (may be a physical or switch-defined logical port) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Physical port (in &#39;ofp_packet_in messages&#39;, underlying physical port when</span>
<span class="sd">            packet received on a logical port) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">in_phy_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Ethernet match fields: </span>
<span class="sd">            - ethernet destination MAC address</span>
<span class="sd">            - ethernet source MAC address</span>
<span class="sd">            - ethernet type of the OpenFlow packet payload (after VLAN tags) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IPv4 source address (can use subnet mask) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv4_source</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IPv4 destination address (can use subnet mask) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv4_destination</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IP match fields:</span>
<span class="sd">            - Differentiated Service Code Point (DSCP). Part of the IPv4 ToS field or</span>
<span class="sd">              the IPv6 Traffic Class field.</span>
<span class="sd">            - ECN bits of the IP header. Part of the IPv4 ToS field or</span>
<span class="sd">              the IPv6 Traffic Class field </span>
<span class="sd">            - IPv4 or IPv6 protocol number &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IPv6 source address (can use subnet mask) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_source</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IPv6 destination address (can use subnet mask) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_destination</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; The target address in an IPv6 Neighbor Discovery message &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_nd_target</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; The source link-layer address option in an IPv6 Neighbor Discovery message &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_nd_sll</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; The target link-layer address option in an IPv6 Neighbor Discovery message &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_nd_tll</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IPv6 flow label &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_label</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IPv6 Extension Header pseudo-field &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_ext_header</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Protocol match fields:</span>
<span class="sd">           - The LABEL in the first MPLS shim header</span>
<span class="sd">           - The TC in the first MPLS shim header</span>
<span class="sd">           - The BoS bit (Bottom of Stack bit) in the first MPLS shim header</span>
<span class="sd">           - The I-SID in the first PBB service instance tag &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; UDP source port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">udp_source_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; UDP destination port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">udp_destination_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; TCP source port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcp_source_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; TCP destination port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcp_destination_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; SCTP source port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sctp_source_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; SCTP destination port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sctp_destination_port</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; ICMPv4 match fields:</span>
<span class="sd">            - ICMP type </span>
<span class="sd">            - ICMP code &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; ICMPv6 match fields</span>
<span class="sd">            - ICMPv6 type </span>
<span class="sd">            - ICMPv6 code &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; VLAN match fields:</span>
<span class="sd">            - VLAN-ID from 802.1Q header (the CFI bit indicate the presence of a valid VLAN-ID)</span>
<span class="sd">            - VLAN-PCP from 802.1Q header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; ARP opcode &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_op</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Source IPv4 address in the ARP payload (can use subnet mask) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_source_transport_address</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Target IPv4 address in the ARP payload (can use subnet mask) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_target_transport_address</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Source Ethernet address in the ARP payload &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_source_hardware_address</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Target Ethernet address in the ARP payload &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_target_hardware_address</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Metadata associated with a logical port &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tunnel</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Table metadata (used to pass information between tables) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eth_type</span><span class="p">):</span>
<div class="viewcode-block" id="Match.set_eth_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_eth_type">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">=</span> <span class="n">EthernetMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">eth_type</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eth_src</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_eth_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_eth_src">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">=</span> <span class="n">EthernetMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span><span class="o">.</span><span class="n">set_src</span><span class="p">(</span><span class="n">eth_src</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_eth_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eth_dst</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_eth_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_eth_dst">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span> <span class="o">=</span> <span class="n">EthernetMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_match</span><span class="o">.</span><span class="n">set_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="p">)</span>       
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vlan_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vlan_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_vlan_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_vlan_id">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span> <span class="o">=</span> <span class="n">VlanMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span><span class="o">.</span><span class="n">set_vid</span><span class="p">(</span><span class="n">vlan_id</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vlan_pcp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vlan_pcp</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_vlan_pcp"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_vlan_pcp">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span> <span class="o">=</span> <span class="n">VlanMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_match</span><span class="o">.</span><span class="n">set_pcp</span><span class="p">(</span><span class="n">vlan_pcp</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ipv4_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ipv4_src</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ipv4_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ipv4_src">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv4_source</span> <span class="o">=</span> <span class="n">ipv4_src</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ipv4_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ipv4_dst</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ipv4_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ipv4_dst">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv4_destination</span> <span class="o">=</span> <span class="n">ipv4_dst</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ipv6_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ipv6_src</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ipv6_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ipv6_src">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_source</span> <span class="o">=</span> <span class="n">ipv6_src</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ipv6_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ipv6_dst</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ipv6_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ipv6_dst">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_destination</span> <span class="o">=</span> <span class="n">ipv6_dst</span>    
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ipv6_flabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ipv6_flabel</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ipv6_flabel"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ipv6_flabel">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ipv6_label</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_label</span> <span class="o">=</span> <span class="n">Ipv6Label</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_label</span><span class="o">.</span><span class="n">set_flabel</span><span class="p">(</span><span class="n">ipv6_flabel</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ipv6_exh_hdr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ipv6_exthdr</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ipv6_exh_hdr"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ipv6_exh_hdr">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ipv6_ext_header</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_ext_header</span> <span class="o">=</span> <span class="n">Ipv6ExtHdr</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_ext_header</span><span class="o">.</span><span class="n">set_exthdr</span><span class="p">(</span><span class="n">ipv6_exthdr</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ip_dscp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_dscp</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ip_dscp"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ip_dscp">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">=</span> <span class="n">IpMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span><span class="o">.</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="n">ip_dscp</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ip_ecn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_ecn</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ip_ecn"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ip_ecn">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">=</span> <span class="n">IpMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span><span class="o">.</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="n">ip_ecn</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_ip_proto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_proto</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_ip_proto"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_ip_proto">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span> <span class="o">=</span> <span class="n">IpMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_match</span><span class="o">.</span><span class="n">ip_protocol</span> <span class="o">=</span> <span class="n">ip_proto</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="sd">&#39;&#39;&#39;        </span></div>
<span class="sd">    def ip_proto_version(self, version):</span>
<span class="sd">        self.ip_match.ip_proto = version    </span>
<span class="sd">    &#39;&#39;&#39;</span>    
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_udp_src_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">udp_src_port</span><span class="p">):</span>
<div class="viewcode-block" id="Match.set_udp_src_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_udp_src_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">udp_source_port</span> <span class="o">=</span> <span class="n">udp_src_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_udp_dst_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">udp_dst_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_udp_dst_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_udp_dst_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">udp_destination_port</span> <span class="o">=</span> <span class="n">udp_dst_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_tcp_src_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tcp_src_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_tcp_src_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_tcp_src_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">tcp_source_port</span> <span class="o">=</span> <span class="n">tcp_src_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_tcp_dst_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tcp_dst_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_tcp_dst_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_tcp_dst_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">tcp_destination_port</span> <span class="o">=</span> <span class="n">tcp_dst_port</span>        
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_sctp_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sctp_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_sctp_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_sctp_src">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">sctp_source_port</span> <span class="o">=</span> <span class="n">sctp_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">sctp_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sctp_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.sctp_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.sctp_dst">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">sctp_destination_port</span> <span class="o">=</span> <span class="n">sctp_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_icmpv4_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmpv4_type</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_icmpv4_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_icmpv4_type">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span> <span class="o">=</span> <span class="n">IcmpMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">icmpv4_type</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_icmpv4_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmpv4_code</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_icmpv4_code"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_icmpv4_code">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span> <span class="o">=</span> <span class="n">IcmpMatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_match</span><span class="o">.</span><span class="n">set_code</span><span class="p">(</span><span class="n">icmpv4_code</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_icmpv6_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmpv6_type</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_icmpv6_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_icmpv6_type">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span> <span class="o">=</span> <span class="n">IcmpV6Match</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">icmpv6_type</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_icmpv6_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmpv6_code</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_icmpv6_code"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_icmpv6_code">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span> <span class="o">=</span> <span class="n">IcmpV6Match</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_match</span><span class="o">.</span><span class="n">set_code</span><span class="p">(</span><span class="n">icmpv6_code</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_in_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_in_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_in_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">in_port</span> <span class="o">=</span> <span class="n">in_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_in_phy_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_phy_port</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_in_phy_port"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_in_phy_port">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">in_phy_port</span> <span class="o">=</span> <span class="n">in_phy_port</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_arp_opcode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arp_opcode</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_arp_opcode"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_arp_opcode">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">arp_op</span> <span class="o">=</span> <span class="n">arp_opcode</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_arp_src_transport_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arp_src_tp_addr</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_arp_src_transport_address"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_arp_src_transport_address">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">arp_source_transport_address</span> <span class="o">=</span> <span class="n">arp_src_tp_addr</span>       
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_arp_tgt_transport_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arp_tgt_tp_addr</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_arp_tgt_transport_address"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_arp_tgt_transport_address">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">arp_target_transport_address</span> <span class="o">=</span> <span class="n">arp_tgt_tp_addr</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_arp_src_hw_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arp_src_hw_addr</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_arp_src_hw_address"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_arp_src_hw_address">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arp_source_hardware_address</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arp_source_hardware_address</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_source_hardware_address</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">arp_src_hw_addr</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_arp_tgt_hw_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arp_tgt_hw_addr</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_arp_tgt_hw_address"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_arp_tgt_hw_address">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arp_target_hardware_address</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arp_target_hardware_address</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arp_target_hardware_address</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">arp_tgt_hw_addr</span>    
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_lable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_label</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_mpls_lable"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_mpls_lable">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">=</span> <span class="n">ProtocolMatchFields</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span><span class="o">.</span><span class="n">set_mpls_lable</span><span class="p">(</span><span class="n">mpls_label</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_tc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_tc</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_mpls_tc"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_mpls_tc">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">=</span> <span class="n">ProtocolMatchFields</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span><span class="o">.</span><span class="n">set_mpls_tc</span><span class="p">(</span><span class="n">mpls_tc</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_bos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_bos</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_mpls_bos"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_mpls_bos">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span> <span class="o">=</span> <span class="n">ProtocolMatchFields</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol_match_fields</span><span class="o">.</span><span class="n">set_mpls_bos</span><span class="p">(</span><span class="n">mpls_bos</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_tunnel_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tunnel_id</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_tunnel_id"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_tunnel_id">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tunnel</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tunnel</span> <span class="o">=</span> <span class="n">Tunnel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tunnel</span><span class="o">.</span><span class="n">tunnel_id</span> <span class="o">=</span> <span class="n">tunnel_id</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_metadata"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_metadata">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">Metadata</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_metadata_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata_mask</span><span class="p">):</span></div>
<div class="viewcode-block" id="Match.set_metadata_mask"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Match.set_metadata_mask">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">Metadata</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">set_metadata_mask</span><span class="p">(</span><span class="n">metadata_mask</span><span class="p">)</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">EthernetMatch</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="EthernetMatch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.EthernetMatch">[docs]</a>    <span class="sd">&#39;&#39;&#39; Ethernet specific match fields &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_type</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_source</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_destination</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ether_type</span><span class="p">):</span>
<div class="viewcode-block" id="EthernetMatch.set_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.EthernetMatch.set_type">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ethernet_type</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_type</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_type</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ether_type</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ether_src</span><span class="p">):</span></div>
<div class="viewcode-block" id="EthernetMatch.set_src"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.EthernetMatch.set_src">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ethernet_source</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_source</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_source</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ether_src</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ether_dst</span><span class="p">):</span></div>
<div class="viewcode-block" id="EthernetMatch.set_dst"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.EthernetMatch.set_dst">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ethernet_destination</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_destination</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethernet_destination</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ether_dst</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">VlanMatch</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="VlanMatch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.VlanMatch">[docs]</a>    <span class="sd">&#39;&#39;&#39; VLAN specific match fields &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; VLAN-ID from 802.1Q header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; VLAN-PCP from 802.1Q header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_pcp</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_vid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vid</span><span class="p">):</span>
<div class="viewcode-block" id="VlanMatch.set_vid"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.VlanMatch.set_vid">[docs]</a>        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vlan_id</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id</span> <span class="o">=</span> <span class="n">VlanId</span><span class="p">()</span>            
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id</span><span class="o">.</span><span class="n">set_vid</span><span class="p">(</span><span class="n">vid</span><span class="p">)</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_pcp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pcp</span><span class="p">):</span></div>
<div class="viewcode-block" id="VlanMatch.set_pcp"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.VlanMatch.set_pcp">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_pcp</span> <span class="o">=</span> <span class="n">pcp</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">VlanId</span><span class="p">(</span><span class="n">VlanMatch</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="VlanId"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.VlanId">[docs]</a>    <span class="sd">&#39;&#39;&#39; Helper subclass of VlanMatch class to help in serialization</span>
<span class="sd">        of VLAN ID information encoded in match rules of a flow entry &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; VLAN-ID from 802.1Q header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; Flag that indicates that &#39;vlan_id&#39; value is set and matching is</span>
<span class="sd">            only for packets with VID equal to &#39;vlan_id&#39; value &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id_present</span> <span class="o">=</span> <span class="bp">False</span>
    
    <span class="k">def</span> <span class="nf">set_vid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vid</span><span class="p">):</span>
<div class="viewcode-block" id="VlanId.set_vid"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.VlanId.set_vid">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id</span> <span class="o">=</span> <span class="n">vid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlan_id_present</span> <span class="o">=</span> <span class="bp">True</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">IcmpMatch</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="IcmpMatch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IcmpMatch">[docs]</a>    <span class="sd">&#39;&#39;&#39; ICMPv4 specific match fields &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; ICMP type &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_type</span> <span class="o">=</span> <span class="bp">None</span>
    
        <span class="sd">&#39;&#39;&#39; ICMP code &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_code</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmp_type</span><span class="p">):</span>
<div class="viewcode-block" id="IcmpMatch.set_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IcmpMatch.set_type">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_type</span> <span class="o">=</span> <span class="n">icmp_type</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmp_code</span><span class="p">):</span></div>
<div class="viewcode-block" id="IcmpMatch.set_code"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IcmpMatch.set_code">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv4_code</span> <span class="o">=</span> <span class="n">icmp_code</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">IcmpV6Match</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="IcmpV6Match"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IcmpV6Match">[docs]</a>    <span class="sd">&#39;&#39;&#39; ICMPv6 specific match fields &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; ICMPv6 type &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_type</span> <span class="o">=</span> <span class="bp">None</span>
    
        <span class="sd">&#39;&#39;&#39; ICMPv6 code &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_code</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmpv6_type</span><span class="p">):</span>
<div class="viewcode-block" id="IcmpV6Match.set_type"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IcmpV6Match.set_type">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_type</span> <span class="o">=</span> <span class="n">icmpv6_type</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icmpv6_code</span><span class="p">):</span></div>
<div class="viewcode-block" id="IcmpV6Match.set_code"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IcmpV6Match.set_code">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">icmpv6_code</span> <span class="o">=</span> <span class="n">icmpv6_code</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">IpMatch</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="IpMatch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.IpMatch">[docs]</a>    <span class="sd">&#39;&#39;&#39; IPv4 protocol specific match fields &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; &quot;IP DSCP (6 bits in ToS field) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IP ECN (2 bits in ToS field) &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; IP protocol (IPv4 or IPv6 Protocol Number)&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Ipv6Label</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div>
<div class="viewcode-block" id="Ipv6Label"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Ipv6Label">[docs]</a>    <span class="sd">&#39;&#39;&#39; IPv6 Flow Label &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flabel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">flabel_mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_flabel</span> <span class="o">=</span> <span class="n">flabel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flabel_mask</span> <span class="o">=</span> <span class="n">flabel_mask</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flabel</span><span class="p">,</span> <span class="n">flabel_mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<div class="viewcode-block" id="Ipv6Label.set_flabel"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Ipv6Label.set_flabel">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_flabel</span> <span class="o">=</span> <span class="n">flabel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flabel_mask</span> <span class="o">=</span> <span class="n">flabel_mask</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_flabel_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flabel_mask</span><span class="p">):</span></div>
<div class="viewcode-block" id="Ipv6Label.set_flabel_mask"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Ipv6Label.set_flabel_mask">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">flabel_mask</span> <span class="o">=</span> <span class="n">flabel_mask</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Ipv6ExtHdr</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="Ipv6ExtHdr"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Ipv6ExtHdr">[docs]</a>    <span class="sd">&#39;&#39;&#39; IPv6 Extension Header pseudo-field &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exthdr</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">exthdr_mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_exthdr</span> <span class="o">=</span> <span class="n">exthdr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_exthdr_mask</span> <span class="o">=</span> <span class="n">exthdr_mask</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_exthdr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exthdr</span><span class="p">,</span> <span class="n">exthdr_mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<div class="viewcode-block" id="Ipv6ExtHdr.set_exthdr"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Ipv6ExtHdr.set_exthdr">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_exthdr</span> <span class="o">=</span> <span class="n">exthdr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_exthdr_mask</span> <span class="o">=</span> <span class="n">exthdr_mask</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_exthdr_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exthdr_mask</span><span class="p">):</span></div>
<div class="viewcode-block" id="Ipv6ExtHdr.set_exthdr_mask"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Ipv6ExtHdr.set_exthdr_mask">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">ipv6_exthdr_mask</span> <span class="o">=</span> <span class="n">exthdr_mask</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">ProtocolMatchFields</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="ProtocolMatchFields"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ProtocolMatchFields">[docs]</a>    <span class="sd">&#39;&#39;&#39; Protocol match fields &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; The LABEL in the first MPLS shim header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; The TC in the first MPLS shim header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpls_tc</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; The BoS bit (Bottom of Stack bit) in the first MPLS shim header &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpls_bos</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="sd">&#39;&#39;&#39; The I-SID in the first PBB service instance tag &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pbb</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_lable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_lable</span><span class="p">):</span>
<div class="viewcode-block" id="ProtocolMatchFields.set_mpls_lable"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ProtocolMatchFields.set_mpls_lable">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="n">mpls_lable</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_tc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_tc</span><span class="p">):</span></div>
<div class="viewcode-block" id="ProtocolMatchFields.set_mpls_tc"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ProtocolMatchFields.set_mpls_tc">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">mpls_tc</span> <span class="o">=</span> <span class="n">mpls_tc</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_mpls_bos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpls_bos</span><span class="p">):</span></div>
<div class="viewcode-block" id="ProtocolMatchFields.set_mpls_bos"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ProtocolMatchFields.set_mpls_bos">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">mpls_bos</span> <span class="o">=</span> <span class="n">mpls_bos</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Pbb</span><span class="p">(</span><span class="n">ProtocolMatchFields</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="Pbb"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Pbb">[docs]</a>    <span class="sd">&#39;&#39;&#39; The I-SID in the first PBB service instance tag &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pbb_isid</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pbb_mask</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_pbb_isid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pbb_isid</span><span class="p">):</span>
<div class="viewcode-block" id="Pbb.set_pbb_isid"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Pbb.set_pbb_isid">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">pbb_isid</span> <span class="o">=</span> <span class="n">pbb_isid</span>
    
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_pbb_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pbb_mask</span><span class="p">):</span></div>
<div class="viewcode-block" id="Pbb.set_pbb_mask"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Pbb.set_pbb_mask">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">pbb_mask</span> <span class="o">=</span> <span class="n">pbb_mask</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">ArpSrcHwAddrMatch</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="ArpSrcHwAddrMatch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ArpSrcHwAddrMatch">[docs]</a>    <span class="sd">&#39;&#39;&#39; ARP source hardware address &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">address</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">ArpTgtHwAddrMatch</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div>
<div class="viewcode-block" id="ArpTgtHwAddrMatch"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.ArpTgtHwAddrMatch">[docs]</a>    <span class="sd">&#39;&#39;&#39; ARP target hardware address &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">address</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Tunnel</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div>
<div class="viewcode-block" id="Tunnel"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Tunnel">[docs]</a>    <span class="sd">&#39;&#39;&#39; Logical Port Metadata &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Metadata associated with a logical port&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tunnel_id</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="k">class</span> <span class="nc">Metadata</span><span class="p">(</span><span class="n">Match</span><span class="p">):</span></div>
<div class="viewcode-block" id="Metadata"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Metadata">[docs]</a>    <span class="sd">&#39;&#39;&#39; TBD &#39;&#39;&#39;</span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_mask</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<div class="viewcode-block" id="Metadata.set_metadata"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Metadata.set_metadata">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>

    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="c"># </span>
    <span class="c">#---------------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">set_metadata_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata_mask</span><span class="p">):</span></div>
<div class="viewcode-block" id="Metadata.set_metadata_mask"><a class="viewcode-back" href="../../../pybvc.openflowdev.html#pybvc.openflowdev.ofswitch.Metadata.set_metadata_mask">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_mask</span> <span class="o">=</span> <span class="n">metadata_mask</span>

<span class="sd">&#39;&#39;&#39; Test code - START &#39;&#39;&#39;</span></div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Start&quot;</span>
    
    <span class="c"># --- Ethernet Type and IP Dst Address</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">11</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;10.11.12.13/24&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Type and IP Src Address</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>     
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;10.11.12.13/24&quot;</span><span class="p">)</span>       
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src Address</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">13</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1002</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:11:22:33:44:56&quot;</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, Ethernet Type    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">14</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:ff:ff:ff:ff&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:00:23:ae&quot;</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c">#--- Ethernet Src &amp; Dest Addresses, IPv4 Src &amp; Dest Addresses, Input Port    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1005</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34887</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:ff:ff:ff:ff&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:af&quot;</span><span class="p">)</span>
    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;44.1.2.3/24&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;55.4.5.6/16&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, IPv4 Src &amp; Dest Addresses, </span>
    <span class="c">#     IP Protocol Number, IP DSCP, IP ECN, Input Port</span>
    <span class="c">#     NOTE: ethernet type MUST be 2048 (0x800) </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1007</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:ff:ff:ff:aa&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;77.77.77.77/20&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;88.88.88.88/16&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">56</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, IPv4 Src &amp; Dest Addresses,</span>
    <span class="c">#     TCP Src &amp; Dest Ports, IP DSCP, IP ECN, Input Port</span>
    <span class="c">#     NOTES: ethernet type MUST be 2048 (0x800)</span>
    <span class="c">#            IP Protocol Type MUST be 6</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">17</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1008</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;17.1.2.3/8&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/16&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, IPv4 Src &amp; Dest Addresses,</span>
    <span class="c">#     UDP Src &amp; Dest Ports, IP DSCP, IP ECN, Input Port</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">18</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">10009</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;20:14:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;19.1.2.3/10&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/18&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">17</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_src_port</span><span class="p">(</span><span class="n">udp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_dst_port</span><span class="p">(</span><span class="n">udp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, IPv4 Src &amp; Dest Addresses,</span>
    <span class="c">#     ICMPv4 Type &amp; Code, IP DSCP, IP ECN, Input Port</span>
    <span class="c">#     NOTES: ethernet type MUST be 2048 (0x800)</span>
    <span class="c">#            IP Protocol Type MUST be 1</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">19</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1010</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;17.1.2.3/8&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/16&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">27</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_icmpv4_type</span><span class="p">(</span><span class="n">icmpv4_type</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_icmpv4_code</span><span class="p">(</span><span class="n">icmpv4_code</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, ARP Operation,</span>
    <span class="c">#     ARP Src &amp; Target Transport Addresses, ARP Src &amp; Target Hw Addresses</span>
    <span class="c">#     NOTE: ethernet-type MUST be 2054 (0x806)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1011</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2054</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:ff:ff:FF:ff&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:fc:01:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_arp_opcode</span><span class="p">(</span><span class="n">arp_opcode</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_arp_src_transport_address</span><span class="p">(</span><span class="n">arp_src_tp_addr</span> <span class="o">=</span> <span class="s">&quot;192.168.4.1&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_arp_tgt_transport_address</span><span class="p">(</span><span class="n">arp_tgt_tp_addr</span> <span class="o">=</span> <span class="s">&quot;10.21.22.23&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_arp_src_hw_address</span><span class="p">(</span><span class="n">arp_src_hw_addr</span> <span class="o">=</span> <span class="s">&quot;12:34:56:78:98:ab&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_arp_tgt_hw_address</span><span class="p">(</span><span class="n">arp_tgt_hw_addr</span> <span class="o">=</span> <span class="s">&quot;fe:dc:ba:98:76:54&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, Ethernet Type, VLAN ID, VLAN PCP</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">21</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1012</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_vlan_id</span><span class="p">(</span><span class="n">vlan_id</span> <span class="o">=</span> <span class="mi">78</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_vlan_pcp</span><span class="p">(</span><span class="n">vlan_pcp</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Ethernet Src &amp; Dest Addresses, MPLS Label, MPLS TC, MPLS BoS</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">22</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1013</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34887</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    
    <span class="n">match</span><span class="o">.</span><span class="n">set_mpls_lable</span><span class="p">(</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="mi">567</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_mpls_tc</span><span class="p">(</span><span class="n">mpls_tc</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_mpls_bos</span><span class="p">(</span><span class="n">mpls_bos</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- IPv6 Src &amp; Dest Addresses</span>
    <span class="c">#     NOTE: ethernet type MUST be 34525 (0x86DD)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">23</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1014</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span> <span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;fe80::2acf:e9ff:fe21:6431/128&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;aabb:1234:2acf:e9ff::fe21:6431/64&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

    <span class="c"># --- Metadata</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;flow_with_metadata&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">24</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1015</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">19</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Metadata, Metadata Mask</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;flow_with_metadata_and_metadata_mask&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">25</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1016</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata_mask</span><span class="p">(</span><span class="n">metadata_mask</span> <span class="o">=</span> <span class="s">&quot;0xFF&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- IPv6 Src &amp; Dest Addresses, Metadata, IP DSCP, IP ECN, UDP Src &amp; Dest Ports</span>
    <span class="c">#     NOTE: ethernet type MUST be 34525 (0x86DD)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">26</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1017</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9abc:def0:fdcd:a987:6543:210f/76&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80::2acf:e9ff:fe21:6431/128&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">17</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_src_port</span><span class="p">(</span><span class="n">udp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_dst_port</span><span class="p">(</span><span class="n">udp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- IPv6 Src &amp; Dest Addresses, Metadata, IP DSCP, IP ECN, TCP Src &amp; Dest Ports</span>
    <span class="c">#     NOTES: ethernet type MUST be 34525 (0x86DD)</span>
    <span class="c">#            IP Protocol MUST be 6</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">27</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1018</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/76&quot;</span> <span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/94&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">183</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

    <span class="c"># --- IPv6 Src &amp; Dest Addresses, Metadata, IP DSCP, IP ECN, TCP Src &amp; Dest Ports, IPv6 Label</span>
    <span class="c">#     NOTES: ethernet type MUST be 34525 (0x86DD)</span>
    <span class="c">#            IP Protocol MUST be 6</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">28</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1019</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">23</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/76&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/94&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_flabel</span><span class="p">(</span><span class="n">ipv6_flabel</span> <span class="o">=</span> <span class="mi">33</span><span class="p">)</span>   
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">183</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
   
    <span class="c"># --- Tunnel ID</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">29</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1020</span><span class="p">)</span>

    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>   
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>

    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tunnel_id</span><span class="p">(</span><span class="n">tunnel_id</span> <span class="o">=</span> <span class="mi">2591</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

    <span class="c"># --- IPv6 Src &amp; Dest Addresses, Metadata, IP DSCP, IP ECN, ICMPv6 Type &amp; Code, IPv6 Label</span>
    <span class="c">#     NOTES: ethernet type MUST be 34525 (0x86DD)</span>
    <span class="c">#            IP Protocol MUST be 58</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1021</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">25</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/76&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/94&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_flabel</span><span class="p">(</span><span class="n">ipv6_flabel</span> <span class="o">=</span> <span class="mi">33</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">58</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>   
    <span class="n">match</span><span class="o">.</span><span class="n">set_icmpv6_type</span><span class="p">(</span><span class="n">icmpv6_type</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_icmpv6_code</span><span class="p">(</span><span class="n">icmpv6_code</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- IPv6 Src &amp; Dest Addresses, Metadata, IP DSCP, IP ECN, TCP Src &amp; Dst Ports,</span>
    <span class="c">#     IPv6 Label, IPv6 Ext Header</span>
    <span class="c">#     NOTES: ethernet type MUST be 34525 (0x86DD)</span>
    <span class="c">#            IP Protocol MUST be 58</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">31</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1022</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">27</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1234</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3456</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">DropAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>

    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/76&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/94&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_flabel</span><span class="p">(</span><span class="n">ipv6_flabel</span> <span class="o">=</span> <span class="mi">33</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_exh_hdr</span><span class="p">(</span><span class="n">ipv6_exthdr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>  
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>   
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">183</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

    <span class="c"># --- Push VLAN</span>
    <span class="c"># NOTES:</span>
    <span class="c">#      33024(0x8100) -&gt; ethernet type =&gt; VLAN tagged frame (Customer VLAN Tag Type)</span>
    <span class="c">#      34984(0x88A8) -&gt; ethernet type =&gt; QINQ VLAN tagged frame (Service VLAN tag identifier)</span>
    <span class="c">#                       Provider Bridging (IEEE 802.1ad) &amp; </span>
    <span class="c">#                       Shortest Path Bridging IEEE 802.1aq[</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;push_vlan_flow&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">32</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1023</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">401</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
   
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">PushVlanHeaderAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">33024</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">SetFieldAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">action</span><span class="o">.</span><span class="n">set_vlan_id</span><span class="p">(</span><span class="n">vid</span> <span class="o">=</span> <span class="mi">79</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
  
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;FF:FF:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:AE&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>   
    
    <span class="c"># --- Push MPLS</span>
    <span class="c"># NOTE: ethernet type MUST be 34887 (0x8847) =&gt; MPLS unicast</span>
    <span class="c"># ??? Controller accepts the flow but no flow added on mininet simulated ofswitch</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;push_mpls_lable&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">33</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">401</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
   
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">PushMplsHeaderAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34887</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>        
    <span class="n">action</span> <span class="o">=</span> <span class="n">SetFieldAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">action</span><span class="o">.</span><span class="n">set_mpls_label</span><span class="p">(</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="mi">27</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
   
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;10.0.0.4/32&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>    
    
    <span class="c"># --- Swap MPLS   </span>
    <span class="c"># NOTE: ethernet type MUST be 34887 (0x8847) =&gt; MPLS unicast</span>
    <span class="c"># ??? Controller accepts the flow but no flow added on mininet simulated ofswitch</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;change_mpls_lable&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">34</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1025</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">401</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">SetFieldAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">action</span><span class="o">.</span><span class="n">set_mpls_label</span><span class="p">(</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="mi">37</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>        
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>

    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34887</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">mpls_label</span> <span class="o">=</span> <span class="mi">27</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_mpls_lable</span><span class="p">(</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="mi">27</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>        
   
    <span class="c"># --- Pop MPLS</span>
    <span class="c">#     NOTE: ethernet type MUST be 34887 (0x8847) =&gt; MPLS unicast</span>
    <span class="c"># ??? Controller accepts the flow but no flow added on mininet simulated ofswitch </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;strip_mpls_lable&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">35</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1026</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">889</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">PopMplsHeaderAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">action</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34887</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">max_len</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>

    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34887</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_mpls_lable</span><span class="p">(</span><span class="n">mpls_label</span> <span class="o">=</span> <span class="mi">37</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>        
    
    <span class="c"># --- Output to TABLE</span>
    <span class="c"># (Submit the packet to the first flow table</span>
    <span class="c">#  NOTE: This destination port can only be used in &#39;packet-out&#39; messages)</span>
    <span class="c"># Represents the start of the OpenFlow pipeline. This port is only valid in an</span>
    <span class="c"># output action in the action list of a packet-out message, and submits the</span>
    <span class="c"># packet to the first flow table so that the packet can be processed through</span>
    <span class="c"># the regular OpenFlow pipeline    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-TABLE&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">36</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1027</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">101</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;TABLE&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/76&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/94&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>   
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">183</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>        
    
    <span class="c"># --- Output to INPORT</span>
    <span class="c"># (Send the packet out the input port. This reserved port must be explicitly used</span>
    <span class="c">#  in order to send back out of the input port)</span>
    <span class="c"># Represents the packet ingress port. Can be used only as an output port,</span>
    <span class="c"># send the packet out through its ingress port</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-INPORT&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">37</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1028</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">102</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;INPORT&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;17.1.2.3/8&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/16&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Output to Physical Port Number</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-physical-port&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">38</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1029</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">103</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;17.1.2.3/8&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/16&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Output to LOCAL</span>
    <span class="c"># (Local openflow &quot;port&quot;)</span>
    <span class="c"># Represents the switch&#39;s local networking stack and its management stack.</span>
    <span class="c"># Can be used as an ingress port or as an output port. The local port enables remote entities to</span>
    <span class="c"># interact with the switch and its network services via the OpenFlow network, rather than via a</span>
    <span class="c"># separate control network. With a suitable set of default flow entries it can be used to implement</span>
    <span class="c"># an in-band controller connection.    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-LOCAL&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">39</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1030</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">104</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;LOCAL&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/76&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/94&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">183</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Output to NORMAL</span>
    <span class="c"># (Process with normal L2/L3 switching)</span>
    <span class="c"># Represents the traditional non-OpenFlow pipeline of the switch.</span>
    <span class="c"># Can be used only as an output port and processes the packet using the normal pipeline. If the</span>
    <span class="c"># switch cannot forward packets from the OpenFlow pipeline to the normal pipeline, it must indicate</span>
    <span class="c"># that it does not support this action.    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-NORMAL&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">39</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1031</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">105</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;NORMAL&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/84&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/90&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">20345</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">80</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Output to FLOOD</span>
    <span class="c"># (All physical ports in VLAN, except input port and those blocked or link down)</span>
    <span class="c"># Represents fooding using the normal pipeline of the switch. Can be used only as</span>
    <span class="c"># an output port, in general will send the packet out all standard ports, but not to</span>
    <span class="c"># the ingress port, nor ports that are in OFPPS_BLOCKED state. The switch may also</span>
    <span class="c"># use the packet VLAN ID to select which ports to ood.    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-FLOOD&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">40</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1032</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">106</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;FLOOD&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">34525</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_src</span><span class="p">(</span><span class="n">ipv6_src</span> <span class="o">=</span> <span class="s">&quot;1234:5678:9ABC:DEF0:FDCD:A987:6543:210F/84&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv6_dst</span><span class="p">(</span><span class="n">ipv6_dst</span> <span class="o">=</span> <span class="s">&quot;fe80:2acf:e9ff:fe21::6431/90&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span> <span class="o">=</span> <span class="s">&quot;12345&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_src_port</span><span class="p">(</span><span class="n">tcp_src_port</span> <span class="o">=</span> <span class="mi">20345</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_tcp_dst_port</span><span class="p">(</span><span class="n">tcp_dst_port</span> <span class="o">=</span> <span class="mi">80</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Output to ALL</span>
    <span class="c"># (All physical ports except input port)</span>
    <span class="c"># Represents all ports the switch can use for forwarding a specific packet. Can</span>
    <span class="c"># be used only as an output port. In that case a copy of the packet is sent to all standard ports,</span>
    <span class="c"># excluding the packet ingress port and ports that are configured OFPPC_NO_FWD</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-ALL&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">41</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1033</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">107</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;ALL&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;ff:ff:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;19.1.2.3/10&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/18&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">17</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span> 
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_src_port</span><span class="p">(</span><span class="n">udp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>   
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_dst_port</span><span class="p">(</span><span class="n">udp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="c"># --- Output to CONTROLLER</span>
    <span class="c"># (Send to controller)</span>
    <span class="c"># Represents the control channel with the OpenFlow controller. Can be used as an</span>
    <span class="c"># ingress port or as an output port. When used as an output port, encapsulate the</span>
    <span class="c"># packet in a &#39;packet-in&#39; message and send it using the OpenFlow protocol. When used</span>
    <span class="c"># as an ingress port, this identifies a packet originating from the controller    </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-CONTROLLER&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">41</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1034</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">108</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;CONTROLLER&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;20:14:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;19.1.2.3/10&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/18&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">17</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_src_port</span><span class="p">(</span><span class="n">udp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_dst_port</span><span class="p">(</span><span class="n">udp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

    <span class="c"># --- Output to ANY</span>
    <span class="c"># (Wildcard port used only for flow mod (delete) and flow stats requests. Selects</span>
    <span class="c">#  all flows regardless of output port, including flows with no output port)</span>
    <span class="c"># Special value used in some OpenFlow commands when no port is specified (i.e.</span>
    <span class="c"># port is wildcarded). Can neither be used as an ingress port nor as an output port   </span>
    <span class="c"># ??? Controller accepts the flow but no flow added on mininet simulated ofswitch </span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">FlowEntry</span><span class="p">()</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_name</span><span class="p">(</span><span class="n">flow_name</span> <span class="o">=</span> <span class="s">&quot;output-to-ANY&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_id</span><span class="p">(</span><span class="n">flow_id</span> <span class="o">=</span> <span class="mi">42</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_priority</span><span class="p">(</span><span class="n">flow_priority</span> <span class="o">=</span> <span class="mi">1035</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie</span><span class="p">(</span><span class="n">cookie</span> <span class="o">=</span> <span class="mi">109</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_cookie_mask</span><span class="p">(</span><span class="n">cookie_mask</span> <span class="o">=</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_hard_timeout</span><span class="p">(</span><span class="n">hard_timeout</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">set_flow_idle_timeout</span><span class="p">(</span><span class="n">idle_timeout</span> <span class="o">=</span> <span class="mi">3400</span><span class="p">)</span>
    
    <span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">instruction_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">OutputAction</span><span class="p">(</span><span class="n">action_order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="s">&quot;ANY&quot;</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">instruction</span><span class="o">.</span><span class="n">add_apply_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>    
    <span class="n">flow</span><span class="o">.</span><span class="n">add_instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
    
    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">()</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_type</span><span class="p">(</span><span class="n">eth_type</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_dst</span><span class="p">(</span><span class="n">eth_dst</span> <span class="o">=</span> <span class="s">&quot;20:14:29:01:19:61&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_eth_src</span><span class="p">(</span><span class="n">eth_src</span> <span class="o">=</span> <span class="s">&quot;00:00:00:11:23:ae&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_src</span><span class="p">(</span><span class="n">ipv4_src</span> <span class="o">=</span> <span class="s">&quot;19.1.2.3/10&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ipv4_dst</span><span class="p">(</span><span class="n">ipv4_dst</span> <span class="o">=</span> <span class="s">&quot;172.168.5.6/18&quot;</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_proto</span><span class="p">(</span><span class="n">ip_proto</span> <span class="o">=</span> <span class="mi">17</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_dscp</span><span class="p">(</span><span class="n">ip_dscp</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_ip_ecn</span><span class="p">(</span><span class="n">ip_ecn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>    
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_src_port</span><span class="p">(</span><span class="n">udp_src_port</span> <span class="o">=</span> <span class="mi">25364</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_udp_dst_port</span><span class="p">(</span><span class="n">udp_dst_port</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">)</span>
    <span class="n">match</span><span class="o">.</span><span class="n">set_in_port</span><span class="p">(</span><span class="n">in_port</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">add_match</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
    <span class="n">flow_payload</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_payload</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">&quot;flow HTTP payload&quot;</span>
    <span class="k">print</span> <span class="n">flow_payload</span>
    
<span class="sd">&#39;&#39;&#39; Test code - END&#39;&#39;&#39;</span>
    
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">enum ofp_instruction_type {</span>
<span class="sd">OFPIT_GOTO_TABLE = 1,     /* Setup the next table in the lookup pipeline */</span>
<span class="sd">OFPIT_WRITE_METADATA = 2, /* Setup the metadata field for use later in pipeline */</span>
<span class="sd">OFPIT_WRITE_ACTIONS = 3,  /* Write the action(s) onto the datapath action set */</span>
<span class="sd">OFPIT_APPLY_ACTIONS = 4,  /* Applies the action(s) immediately */</span>
<span class="sd">OFPIT_CLEAR_ACTIONS = 5,  /* Clears all actions from the datapath action set */</span>
<span class="sd">OFPIT_METER = 6,          /* Apply meter (rate limiter) */</span>
<span class="sd">OFPIT_EXPERIMENTER = 0xFFFF /* Experimenter instruction */</span>
<span class="sd">};</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">enum ofp_action_type {</span>
<span class="sd">OFPAT_OUTPUT = 0,        /* Output to switch port. */</span>
<span class="sd">OFPAT_COPY_TTL_OUT = 11, /* Copy TTL &quot;outwards&quot; -- from next-to-outermost to outermost */</span>
<span class="sd">OFPAT_COPY_TTL_IN = 12,  /* Copy TTL &quot;inwards&quot; -- from outermost to next-to-outermost */</span>
<span class="sd">OFPAT_SET_MPLS_TTL = 15, /* MPLS TTL */</span>
<span class="sd">OFPAT_DEC_MPLS_TTL = 16, /* Decrement MPLS TTL */</span>
<span class="sd">OFPAT_PUSH_VLAN = 17,    /* Push a new VLAN tag */</span>
<span class="sd">OFPAT_POP_VLAN = 18,     /* Pop the outer VLAN tag */</span>
<span class="sd">OFPAT_PUSH_MPLS = 19,    /* Push a new MPLS tag */</span>
<span class="sd">OFPAT_POP_MPLS = 20,     /* Pop the outer MPLS tag */</span>
<span class="sd">OFPAT_SET_QUEUE = 21,    /* Set queue id when outputting to a port */</span>
<span class="sd">OFPAT_GROUP = 22,        /* Apply group. */</span>
<span class="sd">OFPAT_SET_NW_TTL = 23,   /* IP TTL. */</span>
<span class="sd">OFPAT_DEC_NW_TTL = 24,   /* Decrement IP TTL. */</span>
<span class="sd">OFPAT_SET_FIELD = 25,    /* Set a header field using OXM TLV format. */</span>
<span class="sd">OFPAT_PUSH_PBB = 26,     /* Push a new PBB service tag (I-TAG) */</span>
<span class="sd">OFPAT_POP_PBB = 27,      /* Pop the outer PBB service tag (I-TAG) */</span>
<span class="sd">OFPAT_EXPERIMENTER = 0xffff</span>
<span class="sd">};</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">5.9 Instructions</span>
<span class="sd">Each flow entry contains a set of instructions that are executed when a packet matches the entry. These</span>
<span class="sd">instructions result in changes to the packet, action set and/or pipeline processing.</span>
<span class="sd">A switch is not required to support all instruction types, just those marked</span>
<span class="sd">\Required Instruction&quot; below. The controller can also query the switch about which of the</span>
<span class="sd">\Optional Instruction&quot; types it supports.</span>

<span class="sd">Optional Instruction: Meter meter_id: Direct packet to the specified meter. As the result of</span>
<span class="sd">the metering, the packet may be dropped (depending on meter configuration and state).</span>

<span class="sd">Optional Instruction: Apply-Actions action(s): Applies the specific action(s) immediately,</span>
<span class="sd">without any change to the Action Set. This instruction may be used to modify the packet between</span>
<span class="sd">two tables or to execute multiple actions of the same type. The actions are specified as an action</span>
<span class="sd">list (see 5.11).</span>

<span class="sd">Optional Instruction: Clear-Actions: Clears all the actions in the action set immediately.</span>

<span class="sd">Required Instruction: Write-Actions action(s): Merges the specified action(s) into the current</span>
<span class="sd">action set (see 5.10). If an action of the given type exists in the current set, overwrite it, otherwise</span>
<span class="sd">add it.</span>

<span class="sd">Optional Instruction: Write-Metadata metadata / mask: Writes the masked metadata value</span>
<span class="sd">into the metadata field. The mask specifies which bits of the metadata register should be modified</span>
<span class="sd">(i.e. new metadata = old metadata &amp; ~mask | value &amp; mask).</span>

<span class="sd">Required Instruction: Goto-Table next-table-id: Indicates the next table in the processing</span>
<span class="sd">pipeline. The table-id must be greater than the current table-id. The flow entries of the last table</span>
<span class="sd">of the pipeline can not include this instruction (see 5.1). OpenFlow switches with only a single</span>
<span class="sd">flow table are not required to implement this instruction.</span>

<span class="sd">The instruction set associated with a flow entry contains a maximum of one instruction of each type. The</span>
<span class="sd">instructions of the set execute in the order specified by this above list. In practice, the only constraints</span>
<span class="sd">are that the Meter instruction is executed before the Apply-Actions instruction, that the Clear-Actions</span>
<span class="sd">instruction is executed before the Write-Actions instruction, and that Goto-Table is executed last.</span>

<span class="sd">A switch must reject a flow entry if it is unable to execute the instructions associated with the flow</span>
<span class="sd">entry. In this case, the switch must return an unsupported flow error (see 6.4). Flow tables may not</span>
<span class="sd">support every match, every instruction or every action.</span>

<span class="sd">5.10 Action Set</span>
<span class="sd">An action set is associated with each packet. This set is empty by default. A flow entry can modify the</span>
<span class="sd">action set using a Write-Action instruction or a Clear-Action instruction associated with a particular</span>
<span class="sd">match. The action set is carried between flow tables. When the instruction set of a flow entry does</span>
<span class="sd">not contain a Goto-Table instruction, pipeline processing stops and the actions in the action set of the</span>
<span class="sd">packet are executed.</span>
<span class="sd">An action set contains a maximum of one action of each type.</span>

<span class="sd">5.12 Actions</span>
<span class="sd">A switch is not required to support all action types, just those marked &quot;Required Action&quot; below. The</span>
<span class="sd">controller can also query the switch about which of the &quot;Optional Action&quot; it supports.</span>

<span class="sd">Required Action: Output. The Output action forwards a packet to a specified OpenFlow port (see4.1). </span>
<span class="sd">OpenFlow switches must support forwarding to physical ports, switch-defined logical ports and</span>
<span class="sd">the required reserved ports (see 4.5).</span>

<span class="sd">Optional Action: Set-Queue. The set-queue action sets the queue id for a packet. When the packet is</span>
<span class="sd">forwarded to a port using the output action, the queue id determines which queue attached to this port</span>
<span class="sd">is used for scheduling and forwarding the packet. Forwarding behavior is dictated by the configuration</span>
<span class="sd">of the queue and is used to provide basic Quality-of-Service (QoS) support (see section 7.2.2).</span>

<span class="sd">Required Action: Drop. There is no explicit action to represent drops. Instead, packets whose action</span>
<span class="sd">sets have no output actions should be dropped. This result could come from empty instruction sets or</span>
<span class="sd">empty action buckets in the processing pipeline, or after executing a Clear-Actions instruction.</span>

<span class="sd">Required Action: Group. Process the packet through the specified group. The exact interpretation</span>
<span class="sd">depends on group type.</span>

<span class="sd">Optional Action: Push-Tag/Pop-Tag. Switches may support the ability to push/pop tags as shown in Table 6.</span>
<span class="sd">To aid integration with existing networks, we suggest that the ability to push/pop VLAN tags be supported.</span>
<span class="sd">Newly pushed tags should always be inserted as the outermost tag in the outermost valid location for</span>
<span class="sd">that tag. When a new VLAN tag is pushed, it should be the outermost tag inserted, immediately after</span>
<span class="sd">the Ethernet header and before other tags. Likewise, when a new MPLS tag is pushed, it should be the</span>
<span class="sd">outermost tag inserted, immediately after the Ethernet header and before other tags.</span>
<span class="sd">When multiple push actions are added to the action set of the packet, they apply to the packet in the</span>
<span class="sd">order defined by the action set rules, first MPLS, then PBB, than VLAN (see 5.10). When multiple push</span>
<span class="sd">actions are included in an action list, they apply to the packet in the list order (see 5.11)</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">pybvc 1.0.4 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>